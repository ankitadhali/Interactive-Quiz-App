<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Quiz App</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles can go here if needed */
        body {
            font-family: 'Inter', sans-serif;
        }
        .answer-btn.correct {
            background-color: #22c55e; /* green-500 */
            color: white;
            border-color: #16a34a; /* green-600 */
        }
        .answer-btn.incorrect {
            background-color: #ef4444; /* red-500 */
            color: white;
            border-color: #dc2626; /* red-600 */
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 flex items-center justify-center min-h-screen p-4 transition-colors duration-300">

    <div id="quiz-container" class="w-full max-w-2xl bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-8 text-center transition-all duration-300">
        <!-- Quiz Header -->
        <h1 class="text-3xl md:text-4xl font-bold text-gray-800 dark:text-white mb-2">Tech Skills Quiz</h1>
        <p class="text-gray-600 dark:text-gray-300 mb-6">Test your knowledge with these multiple-choice questions.</p>
        
        <div id="quiz-header" class="flex justify-between items-center text-lg font-medium text-gray-700 dark:text-gray-200 border-t border-b border-gray-200 dark:border-gray-700 py-3 mb-6">
            <div id="score">Score: 0</div>
            <div id="timer">Time: 15s</div>
        </div>

        <!-- Quiz Body: Question and Answers -->
        <div id="quiz-body">
            <h2 id="question-text" class="text-2xl font-semibold text-gray-800 dark:text-white mb-6 min-h-[72px]">Question text goes here...</h2>
            <div id="answer-buttons" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Answer buttons will be dynamically inserted here -->
            </div>
        </div>

        <!-- Quiz Footer -->
        <div id="quiz-footer" class="mt-8">
            <button id="next-btn" class="w-full md:w-auto bg-indigo-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 transform hover:scale-105" style="display: none;">Next</button>
        </div>

        <!-- Results Screen -->
        <div id="results-container" style="display: none;">
             <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-4">Quiz Complete!</h2>
             <p id="final-score" class="text-xl text-gray-600 dark:text-gray-300 mb-6">Your final score is 0 out of 0.</p>
             <button id="restart-btn" class="w-full md:w-auto bg-green-500 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-200 transform hover:scale-105">Restart Quiz</button>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DOM Element References ---
            const quizContainer = document.getElementById('quiz-container');
            const questionText = document.getElementById('question-text');
            const answerButtons = document.getElementById('answer-buttons');
            const nextBtn = document.getElementById('next-btn');
            const restartBtn = document.getElementById('restart-btn');
            const scoreDisplay = document.getElementById('score');
            const timerDisplay = document.getElementById('timer');
            const resultsContainer = document.getElementById('results-container');
            const quizBody = document.getElementById('quiz-body');
            const quizHeader = document.getElementById('quiz-header');
            const quizFooter = document.getElementById('quiz-footer');

            // --- Quiz Questions ---
            const questions = [
                {
                    question: "What does HTML stand for?",
                    answers: [
                        { text: "Hyper Trainer Marking Language", correct: false },
                        { text: "Hyper Text Markup Language", correct: true },
                        { text: "Hyperlinks and Text Markup Language", correct: false },
                        { text: "Home Tool Markup Language", correct: false }
                    ]
                },
                {
                    question: "Which CSS property is used to change the background color?",
                    answers: [
                        { text: "color", correct: false },
                        { text: "bgcolor", correct: false },
                        { text: "background-color", correct: true },
                        { text: "background", correct: false }
                    ]
                },
                {
                    question: "Which of the following is NOT a JavaScript data type?",
                    answers: [
                        { text: "String", correct: false },
                        { text: "Boolean", correct: false },
                        { text: "Alert", correct: true },
                        { text: "Number", correct: false }
                    ]
                },
                {
                    question: "What is the correct syntax for referring to an external script called 'app.js'?",
                    answers: [
                        { text: "<script href='app.js'>", correct: false },
                        { text: "<script name='app.js'>", correct: false },
                        { text: "<script src='app.js'>", correct: true },
                        { text: "<script file='app.js'>", correct: false }
                    ]
                },
                {
                    question: "How do you write 'Hello World' in an alert box?",
                    answers: [
                        { text: "msg('Hello World');", correct: false },
                        { text: "alertBox('Hello World');", correct: false },
                        { text: "msgBox('Hello World');", correct: false },
                        { text: "alert('Hello World');", correct: true }
                    ]
                }
            ];

            // --- State Variables ---
            let currentQuestionIndex = 0;
            let score = 0;
            let timer;
            let timeLeft = 15;

            /**
             * Starts the quiz by resetting state and showing the first question.
             */
            function startQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                resultsContainer.style.display = 'none';
                quizBody.style.display = 'block';
                quizHeader.style.display = 'flex';
                quizFooter.style.display = 'block';
                nextBtn.style.display = 'none';
                updateScoreDisplay();
                showQuestion();
            }

            /**
             * Displays the current question and its answer options.
             */
            function showQuestion() {
                resetState();
                if (currentQuestionIndex >= questions.length) {
                    showResults();
                    return;
                }

                let currentQuestion = questions[currentQuestionIndex];
                questionText.innerText = currentQuestion.question;

                currentQuestion.answers.forEach(answer => {
                    const button = document.createElement('button');
                    button.innerText = answer.text;
                    button.classList.add('answer-btn', 'w-full', 'text-left', 'p-4', 'rounded-lg', 'border-2', 'border-gray-300', 'dark:border-gray-600', 'hover:bg-gray-100', 'dark:hover:bg-gray-700', 'transition', 'duration-200');
                    if (answer.correct) {
                        button.dataset.correct = answer.correct;
                    }
                    button.addEventListener('click', selectAnswer);
                    answerButtons.appendChild(button);
                });

                startTimer();
            }

            /**
             * Resets the state for the next question (clears buttons, hides next button).
             */
            function resetState() {
                clearInterval(timer);
                timeLeft = 15;
                timerDisplay.textContent = `Time: ${timeLeft}s`;
                timerDisplay.classList.remove('text-red-500', 'font-bold');
                nextBtn.style.display = 'none';
                while (answerButtons.firstChild) {
                    answerButtons.removeChild(answerButtons.firstChild);
                }
            }

            /**
             * Starts the countdown timer for the current question.
             */
            function startTimer() {
                timer = setInterval(() => {
                    timeLeft--;
                    timerDisplay.textContent = `Time: ${timeLeft}s`;
                    if (timeLeft <= 5) {
                        timerDisplay.classList.add('text-red-500', 'font-bold');
                    }
                    if (timeLeft <= 0) {
                        clearInterval(timer);
                        handleTimeout();
                    }
                }, 1000);
            }

            /**
             * Handles the case where the timer runs out.
             */
            function handleTimeout() {
                 Array.from(answerButtons.children).forEach(button => {
                    if (button.dataset.correct) {
                        button.classList.add('correct');
                    }
                    button.disabled = true;
                });
                nextBtn.style.display = 'block';
            }

            /**
             * Handles the user's selection of an answer.
             * @param {Event} e - The click event object.
             */
            function selectAnswer(e) {
                clearInterval(timer);
                const selectedBtn = e.target;
                const isCorrect = selectedBtn.dataset.correct === "true";

                if (isCorrect) {
                    score++;
                    updateScoreDisplay();
                }

                // Provide visual feedback for all buttons
                Array.from(answerButtons.children).forEach(button => {
                    if (button.dataset.correct === "true") {
                        button.classList.add('correct');
                    } else {
                        button.classList.add('incorrect');
                    }
                    button.disabled = true; // Disable all buttons after one is clicked
                });
                
                // Show the 'Next' button if there are more questions
                if(questions.length > currentQuestionIndex + 1){
                    nextBtn.style.display = 'block';
                } else {
                    // If it's the last question, show the results button
                    nextBtn.innerText = "Show Results";
                    nextBtn.style.display = 'block';
                }
            }

            /**
             * Updates the score display on the screen.
             */
            function updateScoreDisplay() {
                scoreDisplay.innerText = `Score: ${score}`;
            }

            /**
             * Shows the final results screen.
             */
            function showResults() {
                clearInterval(timer);
                quizBody.style.display = 'none';
                quizHeader.style.display = 'none';
                quizFooter.style.display = 'none';

                const finalScoreDisplay = document.getElementById('final-score');
                finalScoreDisplay.innerText = `Your final score is ${score} out of ${questions.length}.`;
                resultsContainer.style.display = 'block';
                nextBtn.innerText = "Next"; // Reset button text for next quiz run
            }
            
            /**
             * Moves to the next question or shows results.
             */
            function handleNextButton() {
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    showQuestion();
                } else {
                    showResults();
                }
            }

            // --- Event Listeners ---
            nextBtn.addEventListener('click', handleNextButton);
            restartBtn.addEventListener('click', startQuiz);

            // --- Initial Kick-off ---
            startQuiz();
        });
    </script>
</body>
</html>
